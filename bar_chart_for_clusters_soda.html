<html>
  <head>
    <title>All images</title>
    <link type="text/css" rel="stylesheet" href="../ex.css"/>
    <script type="text/javascript" src="lib/js/protovis-r3.2.js"></script>
    <script type="text/javascript" src="lib/js/colortools.js"></script>
	<script type="text/javascript" src="lib/js/jquery-min.js"></script>
    <style type="text/css">
    	#fig {
  width: 430px;
  height: 3000px;
}

    </style>
  </head>
  <body><div id="center"><div id="fig">
    <script type="text/javascript+protovis">
    //var data =[{"query":"Apple fruit","centroids":[{"rgba":"(0, 29, 85, 1)","frequency":0},{"rgba":"(70, 106, 15, 1)","frequency":6488},{"rgba":"(105, 132, 107, 1)","frequency":4234},{"rgba":"(114, 23, 24, 1)","frequency":2886}],"max":6488},{"query":"Banana","centroids":[{"rgba":"(55, 105, 4, 1)","frequency":188},{"rgba":"(186, 184, 173, 1)","frequency":17200},{"rgba":"(196, 159, 41, 1)","frequency":2441},{"rgba":"(143, 197, 4, 1)","frequency":969}],"max":17200},{"query":"Strawberry","centroids":[{"rgba":"(17, 9, 8, 1)","frequency":163},{"rgba":"(109, 109, 65, 1)","frequency":940},{"rgba":"(241, 238, 236, 1)","frequency":3747},{"rgba":"(157, 23, 26, 1)","frequency":3821}],"max":3821},{"query":"Peach","centroids":[{"rgba":"(3, 2, 3, 1)","frequency":570},{"rgba":"(138, 46, 8, 1)","frequency":1004},{"rgba":"(229, 212, 210, 1)","frequency":6886},{"rgba":"(211, 96, 132, 1)","frequency":3924}],"max":6886},{"query":"lemon","centroids":[{"rgba":"(213, 174, 11, 1)","frequency":1242},{"rgba":"(11, 5, 0, 1)","frequency":0},{"rgba":"(67, 59, 60, 1)","frequency":534},{"rgba":"(236, 218, 161, 1)","frequency":7304}],"max":7304},{"query":"Pear","centroids":[{"rgba":"(15, 18, 16, 1)","frequency":1561},{"rgba":"(177, 180, 183, 1)","frequency":3133},{"rgba":"(35, 90, 4, 1)","frequency":5},{"rgba":"(138, 150, 59, 1)","frequency":2047}],"max":3133},{"query":"Orange","centroids":[{"rgba":"(21, 16, 9, 1)","frequency":1138},{"rgba":"(229, 91, 15, 1)","frequency":7016},{"rgba":"(205, 111, 4, 1)","frequency":5255},{"rgba":"(213, 187, 146, 1)","frequency":8668}],"max":8668},{"query":"Peas","centroids":[{"rgba":"(23, 46, 6, 1)","frequency":951},{"rgba":"(34, 46, 0, 1)","frequency":0},{"rgba":"(118, 161, 10, 1)","frequency":574},{"rgba":"(103, 144, 54, 1)","frequency":2626}],"max":2626}];
	//var data = [{"query":"Apple fruit","centroids":[{"rgba":"(43, 81, 19, 1)","frequency":6123.398062227297},{"rgba":"(155, 121, 111, 1)","frequency":4436.0444559904545},{"rgba":"(158, 82, 9, 1)","frequency":2882.9725410675137},{"rgba":"(6, 2, 35, 1)","frequency":332.7731320059057}],"max":6123.398062227297},{"query":"Banana","centroids":[{"rgba":"(0, 12, 0, 1)","frequency":86.38493115778076},{"rgba":"(126, 179, 4, 1)","frequency":1239.7751183976925},{"rgba":"(186, 185, 173, 1)","frequency":17199.17866496716},{"rgba":"(196, 159, 41, 1)","frequency":2494.735799143404}],"max":17199.17866496716},{"query":"Strawberry","centroids":[{"rgba":"(17, 9, 8, 1)","frequency":173.74377444884425},{"rgba":"(216, 217, 210, 1)","frequency":4316.535978621553},{"rgba":"(161, 19, 24, 1)","frequency":3124.5980900404684},{"rgba":"(135, 59, 35, 1)","frequency":1156.706188017634}],"max":4316.535978621553},{"query":"Peach","centroids":[{"rgba":"(4, 2, 3, 1)","frequency":624.5466342300562},{"rgba":"(206, 99, 128, 1)","frequency":5019.568886401551},{"rgba":"(134, 31, 7, 1)","frequency":802.2062694317343},{"rgba":"(236, 230, 219, 1)","frequency":6031.0009169252}],"max":6031.0009169252},{"query":"lemon","centroids":[{"rgba":"(248, 238, 200, 1)","frequency":5537.321526665034},{"rgba":"(66, 58, 59, 1)","frequency":539.2936627953992},{"rgba":"(213, 173, 11, 1)","frequency":1318.555144108031},{"rgba":"(194, 166, 71, 1)","frequency":1807.6047614291424}],"max":5537.321526665034},{"query":"Pear","centroids":[{"rgba":"(138, 149, 58, 1)","frequency":2088.589979680926},{"rgba":"(222, 225, 224, 1)","frequency":2476.634920936761},{"rgba":"(72, 35, 9, 1)","frequency":64.05163682797615},{"rgba":"(24, 28, 28, 1)","frequency":2193.6625472155806}],"max":2476.634920936761},{"query":"Orange","centroids":[{"rgba":"(223, 89, 14, 1)","frequency":7295.502116378313},{"rgba":"(23, 17, 9, 1)","frequency":1232.5372479362047},{"rgba":"(215, 189, 149, 1)","frequency":8561.543818015913},{"rgba":"(211, 117, 5, 1)","frequency":5150.4136827267575}],"max":8561.543818015913},{"query":"Peas","centroids":[{"rgba":"(8, 19, 3, 1)","frequency":295.35417350845637},{"rgba":"(47, 88, 7, 1)","frequency":1341.7051541427961},{"rgba":"(158, 192, 65, 1)","frequency":1223.1216483222306},{"rgba":"(85, 122, 50, 1)","frequency":1462.6649074809716}],"max":1462.6649074809716}];
	//var data =[{"query":"Apple fruit","centroids":[{"rgba":"(49, 0, 0, 1)","frequency":18.642026843870095},{"rgba":"(85, 116, 40, 1)","frequency":10519.729205577396},{"rgba":"(53, 25, 58, 1)","frequency":793.9762323515312},{"rgba":"(138, 26, 19, 1)","frequency":2317.7657636622093}],"max":10519.729205577396},{"query":"Banana","centroids":[{"rgba":"(227, 226, 212, 1)","frequency":15885.68253787889},{"rgba":"(0, 0, 0, 1)","frequency":1311.1302998666863},{"rgba":"(159, 199, 7, 1)","frequency":1180.618799035867},{"rgba":"(178, 151, 38, 1)","frequency":2447.8025983675743}],"max":15885.68253787889},{"query":"Strawberry","centroids":[{"rgba":"(84, 98, 28, 1)","frequency":446.9408156334833},{"rgba":"(166, 22, 26, 1)","frequency":3242.1263605198565},{"rgba":"(217, 203, 198, 1)","frequency":4586.545350948126},{"rgba":"(59, 8, 13, 1)","frequency":422.53698511581285}],"max":4586.545350948126},{"query":"Peach","centroids":[{"rgba":"(146, 100, 11, 1)","frequency":269.7499721567137},{"rgba":"(236, 188, 199, 1)","frequency":9290.808990905038},{"rgba":"(134, 31, 7, 1)","frequency":757.2412538863468},{"rgba":"(79, 30, 46, 1)","frequency":2096.0821060070048}],"max":9290.808990905038},{"query":"lemon","centroids":[{"rgba":"(67, 59, 60, 1)","frequency":534.6473149818656},{"rgba":"(209, 172, 13, 1)","frequency":1331.537718775537},{"rgba":"(237, 220, 163, 1)","frequency":7226.086498262396},{"rgba":"(35, 15, 2, 1)","frequency":12.761008088333067}],"max":7226.086498262396},{"query":"Pear","centroids":[{"rgba":"(133, 146, 57, 1)","frequency":2118.237964258406},{"rgba":"(16, 18, 16, 1)","frequency":1575.8388632365024},{"rgba":"(6, 9, 0, 1)","frequency":10.652645653163162},{"rgba":"(181, 184, 189, 1)","frequency":3060.2851438832736}],"max":3060.2851438832736},{"query":"Orange","centroids":[{"rgba":"(222, 89, 14, 1)","frequency":7327.490531613788},{"rgba":"(215, 118, 4, 1)","frequency":4921.841067936674},{"rgba":"(79, 14, 5, 1)","frequency":106.68540416743546},{"rgba":"(176, 154, 119, 1)","frequency":9760.562520547994}],"max":9760.562520547994},{"query":"Peas","centroids":[{"rgba":"(115, 161, 11, 1)","frequency":609.5331114797419},{"rgba":"(114, 158, 65, 1)","frequency":2048.448225748253},{"rgba":"(4, 5, 0, 1)","frequency":14.21139258891821},{"rgba":"(36, 63, 11, 1)","frequency":1524.0403422897425}],"max":2048.448225748253}];
	//0.2 RMS for saturation (weigh more saturation higher)
	//var data = [{"query":"Apple fruit","centroids":[{"rgba":"(72, 110, 36, 1)","frequency":8405.967263656921},{"rgba":"(177, 40, 32, 1)","frequency":1862.5884561374967},{"rgba":"(255, 85, 255, 1)","frequency":19.06701952482864},{"rgba":"(37, 10, 23, 1)","frequency":908.509853308903}],"max":8405.967263656921},{"query":"Banana fruit","centroids":[{"rgba":"(4, 2, 1, 1)","frequency":76.801913743691},{"rgba":"(242, 223, 175, 1)","frequency":12520.601085459797},{"rgba":"(127, 130, 94, 1)","frequency":1929.7223309150966},{"rgba":"(125, 161, 9, 1)","frequency":1175.9079707345172}],"max":12520.601085459797},{"query":"Strawberry fruit","centroids":[{"rgba":"(85, 87, 38, 1)","frequency":1203.4350411698747},{"rgba":"(19, 0, 0, 1)","frequency":13.6329376837177},{"rgba":"(132, 131, 128, 1)","frequency":17431.19381903676},{"rgba":"(149, 31, 22, 1)","frequency":5787.70358017001}],"max":17431.19381903676},{"query":"Pear fruit","centroids":[{"rgba":"(74, 63, 63, 1)","frequency":3484.8046979185056},{"rgba":"(163, 158, 101, 1)","frequency":7028.931178959247},{"rgba":"(16, 17, 15, 1)","frequency":653.4517760222496},{"rgba":"(129, 31, 11, 1)","frequency":1181.198553515071}],"max":7028.931178959247}];
	
	//0.2 RMS for saturation. Alpha = 0.15
	//var data = [{"query":"Apple fruit","centroids":[{"rgba":"(70, 117, 19, 1)","frequency":4766.173592893127},{"rgba":"(70, 35, 23, 1)","frequency":4699.254339180234},{"rgba":"(4, 5, 0, 1)","frequency":16.330831195825027},{"rgba":"(179, 215, 186, 1)","frequency":1706.0396481828113}],"max":4766.173592893127},{"query":"Banana fruit","centroids":[{"rgba":"(224, 209, 162, 1)","frequency":14447.604113389083},{"rgba":"(4, 2, 1, 1)","frequency":76.801913743691},{"rgba":"(125, 161, 9, 1)","frequency":1175.9079707345172},{"rgba":"(24, 20, 0, 1)","frequency":15.34159052011811}],"max":14447.604113389083},{"query":"Strawberry fruit","centroids":[{"rgba":"(1, 2, 2, 1)","frequency":371.6765985303718},{"rgba":"(34, 27, 20, 1)","frequency":5811.803063075595},{"rgba":"(176, 33, 26, 1)","frequency":4635.605837017537},{"rgba":"(203, 198, 191, 1)","frequency":13601.40497856279}],"max":13601.40497856279},{"query":"Pear fruit","centroids":[{"rgba":"(129, 31, 11, 1)","frequency":1181.198553515071},{"rgba":"(134, 127, 49, 1)","frequency":4112.97375890953},{"rgba":"(164, 158, 161, 1)","frequency":4409.282400726017},{"rgba":"(43, 41, 40, 1)","frequency":2647.218231578373}],"max":4409.282400726017}];
	//0.15 RMS for saturation. Alpha = 0.15
	//var data = [{"query":"Apple fruit","centroids":[{"rgba":"(3, 2, 7, 1)","frequency":211.23099768215488},{"rgba":"(4, 1, 76, 1)","frequency":124.58646664474219},{"rgba":"(125, 128, 48, 1)","frequency":7426.384057138808},{"rgba":"(39, 36, 15, 1)","frequency":3416.311352661477}],"max":7426.384057138808},{"query":"Banana fruit","centroids":[{"rgba":"(76, 131, 4, 1)","frequency":754.2386146310222},{"rgba":"(226, 225, 208, 1)","frequency":11271.607509466687},{"rgba":"(205, 166, 46, 1)","frequency":3599.2983019374606},{"rgba":"(4, 2, 1, 1)","frequency":76.35143530776826}],"max":11271.607509466687},{"query":"Strawberry fruit","centroids":[{"rgba":"(200, 55, 83, 1)","frequency":1731.2933034021187},{"rgba":"(201, 201, 193, 1)","frequency":13303.300599391056},{"rgba":"(146, 30, 13, 1)","frequency":4198.102732952607},{"rgba":"(22, 22, 19, 1)","frequency":5189.617684104395}],"max":13303.300599391056},{"query":"Pear fruit","centroids":[{"rgba":"(129, 31, 11, 1)","frequency":1178.6489151363032},{"rgba":"(169, 151, 107, 1)","frequency":5637.378439785211},{"rgba":"(55, 51, 52, 1)","frequency":3773.288492446203},{"rgba":"(136, 161, 75, 1)","frequency":1758.8320100558965}],"max":5637.378439785211}];
	//var data = [{"query":"Apple fruit","centroids":[{"rgba":"(99, 98, 23, 1)","frequency":6495.0},{"rgba":"(23, 33, 13, 1)","frequency":2381.0},{"rgba":"(184, 164, 160, 1)","frequency":2029.0},{"rgba":"(6, 2, 35, 1)","frequency":249.0}],"max":6495.0},{"query":"Banana fruit","centroids":[{"rgba":"(125, 161, 9, 1)","frequency":1161.0},{"rgba":"(6, 6, 5, 1)","frequency":88.0},{"rgba":"(249, 247, 237, 1)","frequency":9456.0},{"rgba":"(174, 148, 65, 1)","frequency":4976.0}],"max":9456.0},{"query":"Strawberry fruit","centroids":[{"rgba":"(186, 28, 13, 1)","frequency":2861.0},{"rgba":"(44, 30, 21, 1)","frequency":8072.0},{"rgba":"(212, 196, 200, 1)","frequency":13474.0},{"rgba":"(10, 0, 0, 1)","frequency":0.0}],"max":13474.0},{"query":"Pear fruit","centroids":[{"rgba":"(77, 33, 24, 1)","frequency":2869.0},{"rgba":"(108, 102, 55, 1)","frequency":6294.0},{"rgba":"(168, 176, 173, 1)","frequency":1657.0},{"rgba":"(235, 237, 239, 1)","frequency":1513.0}],"max":6294.0}];
	
	//0.1 RMS for saturation
	//var data = [{"query":"Apple fruit","centroids":[{"rgba":"(124, 22, 25, 1)","frequency":1996.0},{"rgba":"(149, 148, 135, 1)","frequency":2328.0},{"rgba":"(77, 136, 22, 1)","frequency":3893.0},{"rgba":"(32, 47, 14, 1)","frequency":2937.0}],"max":3893.0},{"query":"Banana fruit","centroids":[{"rgba":"(20, 8, 2, 1)","frequency":25.0},{"rgba":"(0, 0, 0, 1)","frequency":50.0},{"rgba":"(224, 209, 162, 1)","frequency":14445.0},{"rgba":"(125, 161, 9, 1)","frequency":1161.0}],"max":14445.0},{"query":"Strawberry fruit","centroids":[{"rgba":"(202, 194, 194, 1)","frequency":13705.0},{"rgba":"(23, 23, 19, 1)","frequency":5311.0},{"rgba":"(170, 16, 8, 1)","frequency":2116.0},{"rgba":"(150, 50, 32, 1)","frequency":3275.0}],"max":13705.0},{"query":"Pear fruit","centroids":[{"rgba":"(130, 131, 47, 1)","frequency":3596.0},{"rgba":"(194, 175, 170, 1)","frequency":3909.0},{"rgba":"(57, 55, 55, 1)","frequency":3354.0},{"rgba":"(92, 26, 10, 1)","frequency":1474.0}],"max":3909.0}];
	
	//var data = [{"query":"Apple fruit","centroids":[{"rgba":"(108, 21, 22, 1)","frequency":2493.2552393661363},{"rgba":"(55, 89, 15, 1)","frequency":6943.47077707223},{"rgba":"(27, 228, 116, 1)","frequency":8.622346565908376},{"rgba":"(183, 190, 171, 1)","frequency":2581.8437075800025}],"max":6943.47077707223},{"query":"Banana","centroids":[{"rgba":"(71, 131, 3, 1)","frequency":458.46608885896114},{"rgba":"(0, 3, 0, 1)","frequency":14.582618246186552},{"rgba":"(209, 230, 10, 1)","frequency":766.7209607134795},{"rgba":"(192, 185, 157, 1)","frequency":18241.194624607186}],"max":18241.194624607186},{"query":"Strawberry","centroids":[{"rgba":"(219, 215, 214, 1)","frequency":3614.1064108716273},{"rgba":"(165, 46, 46, 1)","frequency":2000.9213116123371},{"rgba":"(152, 10, 16, 1)","frequency":1773.5387945870991},{"rgba":"(90, 112, 30, 1)","frequency":226.50766024338589}],"max":3614.1064108716273},{"query":"Pear fruit","centroids":[{"rgba":"(125, 150, 68, 1)","frequency":2166.8495678934087},{"rgba":"(50, 47, 47, 1)","frequency":4646.245343991392},{"rgba":"(198, 203, 205, 1)","frequency":3971.166429059396},{"rgba":"(141, 74, 26, 1)","frequency":3579.8993727213438}],"max":4646.245343991392}]
	//Fruits
	//var data = [{"query":"Apple fruit","centroids":[{"rgba":"(30, 11, 39, 1)","frequency":548.1522162644296},{"rgba":"(126, 19, 13, 1)","frequency":1533.9541899428882},{"rgba":"(187, 169, 150, 1)","frequency":2392.0154501495},{"rgba":"(53, 90, 18, 1)","frequency":6701.144856345923}],"max":6701.144856345923},{"query":"Banana fruit","centroids":[{"rgba":"(22, 95, 33, 1)","frequency":6.961635966844996},{"rgba":"(225, 224, 207, 1)","frequency":11383.642954767221},{"rgba":"(181, 161, 35, 1)","frequency":4230.976456317088},{"rgba":"(4, 2, 1, 1)","frequency":76.35143530776826}],"max":11383.642954767221},{"query":"Strawberry fruit","centroids":[{"rgba":"(23, 23, 18, 1)","frequency":5418.75351652926},{"rgba":"(172, 48, 147, 1)","frequency":532.1501847071368},{"rgba":"(204, 193, 185, 1)","frequency":14136.427203068959},{"rgba":"(154, 28, 14, 1)","frequency":4337.367317877634}],"max":14136.427203068959},{"query":"Pear fruit","centroids":[{"rgba":"(140, 73, 23, 1)","frequency":3181.132047108472},{"rgba":"(122, 146, 65, 1)","frequency":2126.888801732493},{"rgba":"(17, 8, 3, 1)","frequency":171.85149104895416},{"rgba":"(110, 106, 108, 1)","frequency":6867.197392630289}],"max":6867.197392630289}];
	
	//Superheroes
	//var data = [{"query":"Batman","centroids":[{"rgba":"(201, 200, 26, 1)","frequency":136.15311549878825},{"rgba":"(2, 2, 5, 1)","frequency":9423.271171299293},{"rgba":"(69, 77, 86, 1)","frequency":4513.761394947099},{"rgba":"(56, 29, 11, 1)","frequency":2095.1385525853534}],"max":9423.271171299293},{"query":"Superman","centroids":[{"rgba":"(58, 91, 118, 1)","frequency":5843.205147670489},{"rgba":"(80, 18, 20, 1)","frequency":4610.199915294532},{"rgba":"(222, 205, 188, 1)","frequency":10115.811060915288},{"rgba":"(23, 15, 115, 1)","frequency":979.0026320050996}],"max":10115.811060915288},{"query":"Spiderman","centroids":[{"rgba":"(110, 11, 10, 1)","frequency":1855.338820123556},{"rgba":"(16, 21, 27, 1)","frequency":11671.221715655462},{"rgba":"(187, 142, 128, 1)","frequency":3387.610808614802},{"rgba":"(38, 87, 182, 1)","frequency":776.5055750060196}],"max":11671.221715655462},{"query":"Green Lantern","centroids":[{"rgba":"(38, 109, 86, 1)","frequency":4558.885283008876},{"rgba":"(54, 99, 19, 1)","frequency":5917.591082430954},{"rgba":"(206, 222, 173, 1)","frequency":1739.959974908471},{"rgba":"(4, 9, 3, 1)","frequency":1536.8337283498818}],"max":5917.591082430954}];
	
	//Soda
	var data = [{"query":"Coca-cola","centroids":[{"rgba":"(184, 210, 212, 1)","frequency":3976.709014705822},{"rgba":"(36, 16, 18, 1)","frequency":3285.2649272373906},{"rgba":"(226, 128, 67, 1)","frequency":726.1281159582932},{"rgba":"(208, 24, 19, 1)","frequency":9122.932404835223}],"max":9122.932404835223},{"query":"Pepsi","centroids":[{"rgba":"(144, 164, 183, 1)","frequency":4203.029702657921},{"rgba":"(175, 51, 51, 1)","frequency":282.8465665871277},{"rgba":"(17, 50, 96, 1)","frequency":6927.278025790296},{"rgba":"(0, 2, 3, 1)","frequency":4.523018961514463}],"max":6927.278025790296},{"query":"Sprite","centroids":[{"rgba":"(17, 61, 93, 1)","frequency":5860.571401859758},{"rgba":"(8, 0, 110, 1)","frequency":98.6236639141882},{"rgba":"(144, 190, 112, 1)","frequency":31204.988666024852},{"rgba":"(175, 65, 31, 1)","frequency":164.33496134199592}],"max":31204.988666024852},{"query":"Root beer","centroids":[{"rgba":"(0, 0, 107, 1)","frequency":130.04517259214518},{"rgba":"(163, 86, 18, 1)","frequency":210.57741196126955},{"rgba":"(52, 31, 20, 1)","frequency":2062.5654195416205},{"rgba":"(173, 138, 103, 1)","frequency":5278.263741951254}],"max":5278.263741951254}]

var vis = new pv.Panel()
    .width(150)
    .height(3000);

var panel = vis.add(pv.Panel)
.data(data)
.width(150)
.height(150)
.top(20);

panel.add(pv.Label).top(15).font("12pt palatino serif").text(function(d) d.query);

panel.top(function() this.index*150)
	.add(pv.Bar)
    .data(function(d) d.centroids)
    .width(20)
    .height(function(d, k0) { console.log(k0.max); return 150.0 *d.frequency/k0.max } )
    .bottom(0)
    .left(function() this.index * 25)
    .fillStyle(function(d) { console.log(d.rgba); return "rgba" + d.rgba  } );

vis.render();


    </script>
  </div></div></body>
</html>